{% extends "base.html" %}

{% block title %}{{ post['title'] }} - Flask HTMX Blog{% endblock %}

{% block content %}
<article>
  <header>
    <h2>{{ post['title'] }}</h2>
    <small>{{ post['created_at'] }}</small>
  </header>
  <p>{{ post['body'] }}</p>
</article>

<section aria-labelledby="comments-title">
  <h2 id="comments-title">Kommentare</h2>
  {% include "partials/comment_list.html" %}

  <h3>Neuen Kommentar schreiben</h3>
  <form
    hx-post="{{ url_for('create_comment', post_id=post['id']) }}"
    hx-target="#comments"
    hx-swap="outerHTML"
    class="grid"
  >
    <label>
      Name
      <input type="text" name="author" placeholder="Anonymous" />
    </label>
    <label>
      Kommentar
      <textarea name="content" rows="3" required></textarea>
    </label>
    <button type="submit">Speichern</button>
  </form>
</section>

<p><a href="{{ url_for('index') }}" hx-boost="true">Zurück zur Übersicht</a></p>
{% endblock %}
